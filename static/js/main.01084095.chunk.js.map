{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/Info.jsx","components/Drawer/Drawer.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","Number","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","title","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","console","log","prev","error","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01084095.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__289FG\",\"overlayVisible\":\"Drawer_overlayVisible__Fe2io\",\"drawer\":\"Drawer_drawer__q8wgG\",\"items\":\"Drawer_items__2MoW_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3pyUo\",\"plus\":\"Card_plus__13XHN\",\"favorite\":\"Card_favorite__E4taw\"};","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n    const { cartItems, setCartItems } = React.useContext(AppContext);\r\n    const totalPrice = cartItems.reduce((sum, obj) => Number(obj.price) + sum, 0);\r\n\r\n    return { cartItems, setCartItems, totalPrice };\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppContext from \"../context\";\r\nimport {useCart} from \"../hooks/useCart\";\r\n\r\nfunction Header(props) {\r\n\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img width={40} height={40} src=\"/img/logo.png\" alt=\"Logotype\" />\r\n          <div>\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex\">\r\n        <li onClick={props.onClickCart} className=\"mr-30 cu-p\">\r\n          <img width={18} height={18} src=\"/img/cart.svg\" alt=\"Корзина\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li className=\"mr-20 cu-p\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"/img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img width={18} height={18} src=\"img/user.svg\" alt=\"Пользователь\" />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({ title, image, description }) => {\r\n    const { setCartOpened } = React.useContext(AppContext);\r\n\r\n    return (\r\n        <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n            <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n            <h2>{title}</h2>\r\n            <p className=\"opacity-6\">{description}</p>\r\n            <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n                <img src=\"/img/arrow.svg\" alt=\"Arrow\" />\r\n                Вернуться назад\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Info;","import Info from \"../Info\";\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport {useCart} from \"../../hooks/useCart\";\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({onClose, onRemove, items = [], opened}) {\r\n    const { cartItems, setCartItems, totalPrice } = useCart();\r\n    const [orderId, setOrderId] = React.useState(null);\r\n    const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n    const onClickOrder = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const { data } = await axios.post('https://60ec2df4e9647b0017cde0e0.mockapi.io/orders', {\r\n                items: cartItems,\r\n            });\r\n            setOrderId(data.id);\r\n            setIsOrderComplete(true);\r\n            setCartItems([]);\r\n\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                const item = cartItems[i];\r\n                await axios.delete('https://60ec2df4e9647b0017cde0e0.mockapi.io/cart/' + item.id);\r\n                await delay(1000);\r\n            }\r\n        } catch (error) {\r\n            alert('Ошибка при создании заказа :(');\r\n        }\r\n        setIsLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n            <div className={styles.drawer}>\r\n                <h2 className=\"d-flex justify-between mb-30\">\r\n                    Корзина <img onClick={onClose} className=\"cu-p\" src=\"/img/btn-remove.svg\" alt=\"Close\"/>\r\n                </h2>\r\n\r\n                {items.length > 0 ? (\r\n                    <div className=\"d-flex flex-column flex\">\r\n                        <div className=\"items flex\">\r\n                            {items.map((obj) => (\r\n                                <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                                    <div\r\n                                        style={{backgroundImage: `url(${obj.imageUrl})`}}\r\n                                        className=\"cartItemImg\">\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"mr-20 flex\">\r\n                                        <p className=\"mb-5\">{obj.title}</p>\r\n                                        <b>{obj.price} руб.</b>\r\n                                    </div>\r\n                                    <img\r\n                                        onClick={() => onRemove(obj.id)}\r\n                                        className=\"removeBtn\"\r\n                                        src=\"/img/btn-remove.svg\"\r\n                                        alt=\"Remove\"\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"cartTotalBlock\">\r\n                            <ul>\r\n                                <li>\r\n                                    <span>Итого:</span>\r\n                                    <div></div>\r\n                                    <b>{totalPrice} руб. </b>\r\n                                </li>\r\n                                <li>\r\n                                    <span>Налог 5%:</span>\r\n                                    <div></div>\r\n                                    <b>{totalPrice * 0.05} руб. </b>\r\n                                </li>\r\n                            </ul>\r\n                            <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                                Оформить заказ <img src=\"/img/arrow.svg\" alt=\"Arrow\"/>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <Info\r\n                        title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n                        description={\r\n                            isOrderComplete\r\n                                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'\r\n                        }\r\n                        image={isOrderComplete ? '/img/complete-order.jpg' : '/img/empty-cart.jpg'}\r\n                    />\r\n\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nimport AppContext from '../../context';\r\n\r\nimport styles from './Card.module.scss';\r\n\r\nfunction Card({\r\n                  id,\r\n                  title,\r\n                  imageUrl,\r\n                  price,\r\n                  onFavorite,\r\n                  onPlus,\r\n                  favorited = false,\r\n                  loading = false,\r\n              }) {\r\n    const {isItemAdded} = React.useContext(AppContext);\r\n    const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n    const obj = {id, parentId: id, title, imageUrl, price};\r\n\r\n    const onClickPlus = () => {\r\n        onPlus(obj);\r\n    };\r\n\r\n    const onClickFavorite = () => {\r\n        onFavorite(obj);\r\n        setIsFavorite(!isFavorite);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.card}>\r\n            {loading ? (\r\n                <ContentLoader\r\n                    speed={2}\r\n                    width={155}\r\n                    height={250}\r\n                    viewBox=\"0 0 155 265\"\r\n                    backgroundColor=\"#f3f3f3\"\r\n                    foregroundColor=\"#ecebeb\">\r\n                    <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\"/>\r\n                    <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\"/>\r\n                    <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\"/>\r\n                    <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\"/>\r\n                    <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\"/>\r\n                </ContentLoader>\r\n            ) : (\r\n                <>\r\n                    {onFavorite &&\r\n                    <div className={styles.favorite} onClick={onClickFavorite}>\r\n                        <img src={isFavorite ? '/img/liked.svg' : '/img/unliked.svg'} alt=\"Unliked\"/>\r\n                    </div>}\r\n                    <img width=\"100%\" height={135} src={imageUrl} alt=\"Sneakers\"/>\r\n                    <h5>{title}</h5>\r\n                    <div className=\"d-flex justify-between align-center\">\r\n                        <div className=\"d-flex flex-column\">\r\n                            <span>Цена:</span>\r\n                            <b>{price} руб.</b>\r\n                        </div>\r\n                        {onPlus && <img\r\n                            className={styles.plus}\r\n                            onClick={onClickPlus}\r\n                            src={isItemAdded(id) ? '/img/btn-checked.svg' : '/img/btn-plus.svg'}\r\n                            alt=\"Plus\"\r\n                        />}\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react'\r\nimport Card from '../components/Card';\r\n\r\nfunction Home({\r\n                  items,\r\n                  searchValue,\r\n                  setSearchValue,\r\n                  onChangeSearchInput,\r\n                  onAddToFavorite,\r\n                  onAddToCart,\r\n                  isLoading\r\n              }) {\r\n\r\n\r\n    const renderItems = () => {\r\n        const filtredItems = items.filter((item) => item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n        );\r\n        return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n            <Card\r\n                key={index}\r\n                onFavorite={(obj) => onAddToFavorite(obj)}\r\n                onPlus={(obj) => onAddToCart(obj)}\r\n\r\n                loading={isLoading}\r\n                {...item}\r\n            />\r\n        ));\r\n    };\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    <img src=\"/img/search.svg\" alt=\"Search\"/>\r\n                    {searchValue && (\r\n                        <img\r\n                            onClick={() => setSearchValue('')}\r\n                            className=\"clear cu-p\"\r\n                            src=\"/img/btn-remove.svg\"\r\n                            alt=\"Clear\"\r\n                        />\r\n                    )}\r\n                    <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\"/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites() {\r\n\r\n    const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Orders() {\r\n    const { onAddToFavorite, onAddToCart } = React.useContext(AppContext);\r\n    const [orders, setOrders] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get('https://60ec2df4e9647b0017cde0e0.mockapi.io/orders');\r\n                console.log(data);\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n                setIsLoading(false);\r\n            } catch (error) {\r\n                alert('Ошибка при запросе заказов');\r\n                console.error(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>Мои заказы</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n                    <Card key={index} loading={isLoading} {...item} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Orders;","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from './components/Header';\r\nimport Drawer from './components/Drawer/Drawer';\r\nimport AppContext from \"./context\";\r\n\r\nimport Home from './pages/Home';\r\nimport Favorites from './pages/Favorites';\r\nimport Orders from \"./pages/Orders\";\r\n\r\n\r\nfunction App() {\r\n    const [items, setItems] = React.useState([]);\r\n    const [cartItems, setCartItems] = React.useState([]);\r\n    const [favorites, setFavorites] = React.useState([]);\r\n    const [searchValue, setSearchValue] = React.useState('');\r\n    const [cartOpened, setCartOpened] = React.useState(false);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        async function fetchData() {\r\n            try {\r\n                const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\r\n                    axios.get('https://60ec2df4e9647b0017cde0e0.mockapi.io/cart'),\r\n                    axios.get('https://60ec2df4e9647b0017cde0e0.mockapi.io/favorites'),\r\n                    axios.get('https://60ec2df4e9647b0017cde0e0.mockapi.io/items'),\r\n                ]);\r\n\r\n                setIsLoading(false);\r\n                setCartItems(cartResponse.data);\r\n                setFavorites(favoritesResponse.data);\r\n                setItems(itemsResponse.data);\r\n            } catch (error) {\r\n                alert('Ошибка при запросе данных ;(');\r\n                console.error(error);\r\n            }\r\n        }\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    const onAddToCart = async (obj) => {\r\n        try {\r\n            const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\r\n            if (findItem) {\r\n                setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\r\n                await axios.delete(`https://60ec2df4e9647b0017cde0e0.mockapi.io/cart/${findItem.id}`);\r\n            } else {\r\n                setCartItems((prev) => [...prev, obj]);\r\n                const { data } = await axios.post('https://60ec2df4e9647b0017cde0e0.mockapi.io/cart', obj);\r\n                setCartItems((prev) =>\r\n                    prev.map((item) => {\r\n                        if (item.parentId === data.parentId) {\r\n                            return {\r\n                                ...item,\r\n                                id: data.id,\r\n                            };\r\n                        }\r\n                        return item;\r\n                    }),\r\n                );\r\n            }\r\n        } catch (error) {\r\n            alert('Ошибка при добавлении в корзину');\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const onRemoveItem = (id) => {\r\n        try {\r\n            axios.delete(`https://60ec2df4e9647b0017cde0e0.mockapi.io/cart/${id}`);\r\n            setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\r\n        } catch (error) {\r\n            alert('Ошибка при удалении из корзины');\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const onAddToFavorite = async (obj) => {\r\n        // debugger\r\n        try {\r\n            if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\r\n                await axios.delete(`https://60ec2df4e9647b0017cde0e0.mockapi.io/favorites/${obj.id}`);\r\n                setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\r\n            } else {\r\n                const {data} = await axios.post('https://60ec2df4e9647b0017cde0e0.mockapi.io/favorites', obj);\r\n                setFavorites((prev) => [...prev, data]);\r\n            }\r\n        } catch (error) {\r\n            alert('Не удалось добавить в фавориты');\r\n        }\r\n    };\r\n\r\n    const onChangeSearchInput = (event) => {\r\n        setSearchValue(event.target.value);\r\n    };\r\n\r\n    const isItemAdded = (id) => {\r\n        return cartItems.some((obj) => Number(obj.parentId) === Number(id));\r\n    };\r\n\r\n    return (\r\n        <AppContext.Provider\r\n            value={{items, cartItems, favorites, isItemAdded, onAddToFavorite, setCartOpened, setCartItems}}>\r\n            <div className=\"wrapper clear\">\r\n                <Drawer\r\n                    items={cartItems}\r\n                    onClose={() => setCartOpened(false)}\r\n                    onRemove={onRemoveItem}\r\n                    opened={cartOpened}\r\n                />\r\n\r\n                <Header onClickCart={() => setCartOpened(true)}/>\r\n\r\n                <Route path=\"/\" exact>\r\n                    <Home\r\n                        items={items}\r\n                        cartItems={cartItems}\r\n                        searchValue={searchValue}\r\n                        setSearchValue={setSearchValue}\r\n                        onChangeSearchInput={onChangeSearchInput}\r\n                        onAddToFavorite={onAddToFavorite}\r\n                        onAddToCart={onAddToCart}\r\n                        isLoading={isLoading}\r\n                    />\r\n                </Route>\r\n\r\n                <Route path=\"/favorites\" exact>\r\n                    <Favorites/>\r\n                </Route>\r\n\r\n                <Route path=\"/orders\" exact>\r\n                    <Orders/>\r\n                </Route>\r\n            </div>\r\n        </AppContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.scss';\r\nimport 'macro-css';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}